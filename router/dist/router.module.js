var t=function(t){return t.replace(/\/$/,"").replace(/^\//,"")};export default function(n){var i=this;if(this.t=[],this.i=null,this.o=null,this.u=null,this.add=function(n,o){n="/"===n?"^/?$":new RegExp(t(n)+"$"),i.t.push({path:n,component:o})},this.s=function(t,n){var o=t(n),r=o.view,u=o.state;"function"==typeof o.then?(i.i&&i.u(i.o,i.i),o.then(function(t){var n=t.default();i.u(i.o,n.view,n.state)})):i.u(i.o,r,u)},this.listen=function(){var n,o=(n=window.location.href.match(/#!(.*)$/),t(n?n[1]:""));i.t.some(function(t){var n=t.component,r=o.match(t.path);return!!r&&(r.shift(),i.s(n,r),r)})},!n.mount)throw Error('[Router] "mount" point is missing');if(!n.render)throw Error('[Router] "render" func is missing');this.o=document.querySelector(n.mount),this.u=n.render,n.preloader&&(this.i=n.preloader),window.addEventListener("popstate",function(){return i.listen()})}
//# sourceMappingURL=router.module.js.map
